{"version":3,"file":"component---src-pages-newsroom-all-news-index-tsx-90c718f4bcb47090669e.js","mappings":"uLAqEA,UA7DwD,SAAC,GAAc,IAAZA,EAAW,EAAXA,KACnDC,EAAwB,CAC5B,CACEC,MAAO,qBACPC,MAAO,GAET,CACED,MAAO,sBACPC,MAAO,IAIX,GAAgCC,EAAAA,EAAAA,UAAoBH,EAAS,IAAtDI,EAAP,KAAiBC,EAAjB,KAEQC,EAAcP,EAAdO,KAAMC,EAAQR,EAARQ,IAGRC,GAA+B,IAAnBJ,EAASF,MAAcI,EAAOC,GAAKE,MAAMC,MAAM,EAAG,IAQpE,OACE,2BAASC,UAAU,yEACjB,gBAAC,IAAD,CACEA,UAAU,gCACVC,KAAMZ,EACNI,SAAUA,EACVS,WAAY,SAACX,GAAD,OAZK,SAACA,GACD,iBAAVA,GACTG,EAAYL,EAASE,IAUIY,CAAeZ,MAExC,gBAAC,IAAD,CACED,MACqB,IAAnBG,EAASF,MAAc,qBAAuB,sBAEhDa,cAAc,iBACdC,mBAAmB,mBAErB,uBAAKL,UAAU,gFACZH,EAASS,KAAI,WAAWC,GAAS,IAAD,EAC/B,GACE,UAF6B,EAAhBC,KAERC,2BAAL,eAA0BC,cAAe,GADnCpB,EAAR,EAAQA,MAAOqB,EAAf,EAAeA,YAAaC,EAA5B,EAA4BA,KAAMC,EAAlC,EAAkCA,MAAOC,EAAzC,EAAyCA,KAEzC,OACE,gBAAC,KAAD,CACExB,MAAOA,EACPU,UAAU,oCACVW,YAAaA,EACbI,WAAYF,EACZG,UAAWJ,EACXK,KAAMH,EACNP,IAAKA","sources":["webpack://tonghuaholding-website/./src/pages/newsroom/all-news/index.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { graphql, PageProps } from 'gatsby';\nimport { NewsCard } from '@/components/cards';\nimport ListBox, { ListProps } from '@/components/ListBox';\nimport UnderlineHeader from '@/components/UnderlineHeader';\n\ntype NewsRoomAllNewsProps = PageProps<GatsbyTypes.NewsRoomAllNewsQuery>;\n\nconst NewsRoomAllNews: React.FC<NewsRoomAllNewsProps> = ({ data }) => {\n  const newsType: ListProps[] = [\n    {\n      title: 'ข่าวสาร TH ทั้งหมด',\n      value: 0,\n    },\n    {\n      title: 'ข่าวสาร CSR ทั้งหมด',\n      value: 1,\n    },\n  ];\n\n  const [selected, setSelected] = useState<ListProps>(newsType[0]);\n\n  const { news, csr } = data;\n\n  // select the first 12 elements\n  const markdown = (selected.value === 0 ? news : csr).edges.slice(0, 12);\n\n  const handleSelected = (value: ListProps['value']) => {\n    if (typeof value === 'number') {\n      setSelected(newsType[value]);\n    }\n  };\n\n  return (\n    <section className=\"px-4 pt-10 pb-20 lg:pb-28 md:px-6 lg:px-16 lg:py-20 max-w-7xl mx-auto\">\n      <ListBox\n        className=\"w-full md:max-w-xs md:ml-auto\"\n        list={newsType}\n        selected={selected}\n        onSelected={(value) => handleSelected(value)}\n      />\n      <UnderlineHeader\n        title={\n          selected.value === 0 ? 'ข่าวสาร TH ทั้งหมด' : 'ข่าวสาร CSR ทั้งหมด'\n        }\n        textClassName=\"text-2xl mt-10\"\n        underlineClassName=\"bg-neutral-900\"\n      />\n      <div className=\"flex flex-col mt-10 md:mt-4 space-y-10 md:flex-wrap md:space-y-0 md:flex-row\">\n        {markdown.map(({ node }, key) => {\n          const { title, description, date, cover, slug } =\n            node.childMarkdownRemark?.frontmatter || {};\n          return (\n            <NewsCard\n              title={title}\n              className=\"md:w-1/2 lg:w-1/3 md:px-4 md:py-6\"\n              description={description}\n              coverImage={cover}\n              createdAt={date}\n              href={slug}\n              key={key}\n            />\n          );\n        })}\n      </div>\n    </section>\n  );\n};\n\nexport default NewsRoomAllNews;\n\nexport const query = graphql`\n  query NewsRoomAllNews {\n    news: allFile(\n      filter: { relativeDirectory: { eq: \"newsroom-markdown/all-news/news\" } }\n      sort: { fields: childMarkdownRemark___frontmatter___date, order: DESC }\n    ) {\n      edges {\n        node {\n          childMarkdownRemark {\n            frontmatter {\n              lang\n              slug\n              title\n              date(formatString: \"DD/MM/YYYY\")\n              description\n              cover\n            }\n          }\n          sourceInstanceName\n        }\n      }\n    }\n    csr: allFile(\n      filter: { relativeDirectory: { eq: \"newsroom-markdown/all-news/csr\" } }\n      sort: { fields: childMarkdownRemark___frontmatter___date, order: DESC }\n    ) {\n      edges {\n        node {\n          childMarkdownRemark {\n            frontmatter {\n              lang\n              slug\n              title\n              date(formatString: \"DD/MM/YYYY\")\n              description\n              cover\n            }\n          }\n          sourceInstanceName\n        }\n      }\n    }\n  }\n`;\n"],"names":["data","newsType","title","value","useState","selected","setSelected","news","csr","markdown","edges","slice","className","list","onSelected","handleSelected","textClassName","underlineClassName","map","key","node","childMarkdownRemark","frontmatter","description","date","cover","slug","coverImage","createdAt","href"],"sourceRoot":""}